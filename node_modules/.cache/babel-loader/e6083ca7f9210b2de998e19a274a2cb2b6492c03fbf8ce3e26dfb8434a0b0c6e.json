{"ast":null,"code":"import api from '../posAPI';\nexport const getAllSubstitutionById = async prodId => {\n  try {\n    var _response$data, _response$data2;\n    const response = await api.post('/invetory/list/product/substitutions', {\n      FK_ProductID: prodId\n    });\n\n    // API returns 400 inside response.data\n    if (((_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.StatusCode) === 400) {\n      return []; // ✅ return empty array\n    }\n    if (Array.isArray((_response$data2 = response.data) === null || _response$data2 === void 0 ? void 0 : _response$data2.Data)) {\n      return response.data.Data;\n    }\n    return []; // fallback\n  } catch (error) {\n    var _error$response;\n    // If server actually throws a 400/500 HTTP error\n    if (((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status) === 400) {\n      return []; // ✅ return empty array here too\n    }\n\n    // Other unexpected errors\n    console.error(\"Unexpected API error:\", error);\n    return []; // still safe to return empty list\n  }\n};\nexport const newSubstitution = async data => {\n  try {\n    const response = await api.post('/invetory/add/product/substitution', data); // Use POST\n    debugger;\n    return response.data;\n  } catch (error) {\n    return error.response.data;\n  }\n};\nexport const updateSubstitution = async data => {\n  try {\n    const response = await api.post('/invetory/update/product/substitution', data); // Use POST\n    debugger;\n    return response.data;\n  } catch (error) {\n    debugger;\n    return error.response.data;\n  }\n};","map":{"version":3,"names":["api","getAllSubstitutionById","prodId","_response$data","_response$data2","response","post","FK_ProductID","data","StatusCode","Array","isArray","Data","error","_error$response","status","console","newSubstitution","updateSubstitution"],"sources":["C:/Sandbox/TMIS_POS_Admin/src/services/product/substitution.js"],"sourcesContent":["import api from '../posAPI';\r\n\r\n\r\nexport const getAllSubstitutionById = async (prodId) => {\r\n    try {\r\n        const response = await api.post('/invetory/list/product/substitutions', { FK_ProductID: prodId });\r\n\r\n        // API returns 400 inside response.data\r\n        if (response.data?.StatusCode === 400) {\r\n            return []; // ✅ return empty array\r\n        }\r\n\r\n        if (Array.isArray(response.data?.Data)) {\r\n            return response.data.Data;\r\n        }\r\n\r\n        return []; // fallback\r\n    } catch (error) {\r\n        // If server actually throws a 400/500 HTTP error\r\n        if (error.response?.status === 400) {\r\n            return []; // ✅ return empty array here too\r\n        }\r\n\r\n        // Other unexpected errors\r\n        console.error(\"Unexpected API error:\", error);\r\n        return []; // still safe to return empty list\r\n    }\r\n};\r\n\r\n\r\nexport const newSubstitution = async (data) => {\r\n    try {\r\n        const response = await api.post('/invetory/add/product/substitution', data); // Use POST\r\n        debugger;\r\n        return response.data;\r\n    } catch (error) {\r\n        return error.response.data;\r\n    }\r\n};\r\n\r\n\r\nexport const updateSubstitution = async (data) => {\r\n    try {\r\n        const response = await api.post('/invetory/update/product/substitution', data); // Use POST\r\n        debugger;\r\n\r\n        return response.data;\r\n    } catch (error) {\r\n        debugger;\r\n        return error.response.data;\r\n    }\r\n};\r\n"],"mappings":"AAAA,OAAOA,GAAG,MAAM,WAAW;AAG3B,OAAO,MAAMC,sBAAsB,GAAG,MAAOC,MAAM,IAAK;EACpD,IAAI;IAAA,IAAAC,cAAA,EAAAC,eAAA;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,sCAAsC,EAAE;MAAEC,YAAY,EAAEL;IAAO,CAAC,CAAC;;IAEjG;IACA,IAAI,EAAAC,cAAA,GAAAE,QAAQ,CAACG,IAAI,cAAAL,cAAA,uBAAbA,cAAA,CAAeM,UAAU,MAAK,GAAG,EAAE;MACnC,OAAO,EAAE,CAAC,CAAC;IACf;IAEA,IAAIC,KAAK,CAACC,OAAO,EAAAP,eAAA,GAACC,QAAQ,CAACG,IAAI,cAAAJ,eAAA,uBAAbA,eAAA,CAAeQ,IAAI,CAAC,EAAE;MACpC,OAAOP,QAAQ,CAACG,IAAI,CAACI,IAAI;IAC7B;IAEA,OAAO,EAAE,CAAC,CAAC;EACf,CAAC,CAAC,OAAOC,KAAK,EAAE;IAAA,IAAAC,eAAA;IACZ;IACA,IAAI,EAAAA,eAAA,GAAAD,KAAK,CAACR,QAAQ,cAAAS,eAAA,uBAAdA,eAAA,CAAgBC,MAAM,MAAK,GAAG,EAAE;MAChC,OAAO,EAAE,CAAC,CAAC;IACf;;IAEA;IACAC,OAAO,CAACH,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC;IAC7C,OAAO,EAAE,CAAC,CAAC;EACf;AACJ,CAAC;AAGD,OAAO,MAAMI,eAAe,GAAG,MAAOT,IAAI,IAAK;EAC3C,IAAI;IACA,MAAMH,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,oCAAoC,EAAEE,IAAI,CAAC,CAAC,CAAC;IAC7E;IACA,OAAOH,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ,OAAOA,KAAK,CAACR,QAAQ,CAACG,IAAI;EAC9B;AACJ,CAAC;AAGD,OAAO,MAAMU,kBAAkB,GAAG,MAAOV,IAAI,IAAK;EAC9C,IAAI;IACA,MAAMH,QAAQ,GAAG,MAAML,GAAG,CAACM,IAAI,CAAC,uCAAuC,EAAEE,IAAI,CAAC,CAAC,CAAC;IAChF;IAEA,OAAOH,QAAQ,CAACG,IAAI;EACxB,CAAC,CAAC,OAAOK,KAAK,EAAE;IACZ;IACA,OAAOA,KAAK,CAACR,QAAQ,CAACG,IAAI;EAC9B;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}